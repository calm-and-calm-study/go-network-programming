# HTTP 클라이언트 작성

- HTTP (HyperText Transfer Protocol) 하이퍼텍스트 전송 프로토콜 은 월드 와이드 웹에서 사용되는 애플리케이션 계층의 프로토콜
  - HTTP 통신에서 웹 클라이언트는 URL (Uniform Resource Locator) 통합 리소스 식별자 을 웹 브라우저에게 전송
  - 웹 서버는 URL 에 해당하는 미디어 리소스로 응답
  - 리소스 (resource) 란 이미지, 스타일 시트, HTML 문서, 자바스크립트 파일 등을 의미
 
<br />

## HTTP 의 기초 이해

- HTTP는 클라이언트-서버 기반의 세션을 갖지 않는 프로토콜
- URL (통합 리소스 식별자)
  - 연결에 사용할 프로토콜을 나타내는 데 필수적으로 필요한 스키마 (scheme)
    - 콜론(:)과 두개의 슬래시(//) 을 이용하여 스키마와 관한 정보를 구분
  - 선택적으로 사용할 수 있는 리소스의 권한정보 (authority)
    - 콜론(:)으로 구분된 사용자 이름과 비밀번호로 구성되며, 접미사로 @ 기호 사용
    - 이후 호스트네임과 포트번호를 콜론(:)으로 구분하여 사용
  - 리소스의 경로 (path)
    - 슬래시(/) 사용
  - 선택적으로 사용할 수 있는 쿼리 파라미터 (query parameter)
    - ?는 쿼리 파라미터의 시작을 의미, 키-값으로 한 쌍을 이룸, &는 연속됨을 의미 
  - 선택적으로 사용할 수 있는 정보 조각 (fragment)
    - 해시(#) 는 리소스 내의 하위 섹션을 나타내는 식별자

<br />

### GET

- GET 메서드는 서버에게 해당 리소스 전송을 요청합니다.
- 서버는 해당 리소스를 응답의 Body 를 통해 전달합니다.


### HEAD

- HEAD 메서드는 GET 메서드와 유사하지만 서버가 해당 리소스를 응답하지 않습니다.
- HEAD 메서드로 다양한 메타데이터를 응답헤더로 제공합니다.

### POST

- POST 요청은 웹 서버로의 요청 Body 에 데이터를 전송할 수 있습니다.

### PUT

- POST 메서드와 같이 PUT 메서드로 요청하면 웹 서버에 데이터를 업로드합니다.
- PUT 메서든느 이미 존재하는 리소스를 완전히 교체할 때 사용합니다.

### PATCH

- 이미 존재하는 리소스의 일부분만 수정하고, 변화된 부분 외에는 수정되지 않는 경우에 사용합니다.

### DELETE

- 서버에게 해당 리소스를 제거하도록 요청합니다.

### OPTIONS

- 서버가 해당 리소스에 대해 어떠한 메서드를 지원하는지 알아낼 수 있습니다.

### CONNECT

- 클라이언트는 CONNECT 메서드를 이용하여 웹 서버에 HTTP 터널링(HTTP tunneling)을 요청하거나 대상 목적지와의 TCP 세션을 수립하고 클라이언트와 목적지 간 데이터를 프락싱(proxy)할 수 있습니다.

### TRACE

- TRACE 메서드는 웹 서버에게 요청을 처리하지 말고 그대로 에코잉하도록 합니다.
- 이를 통해 클라이언트와 웹 서버 사이의 중간 노드가 요청을 수정하는지 확인해볼 수 있습니다.

<br />

## 서버 응답

- 100번 대역 상태 응답 : 클라이언트에게 방향을 제시하는데 사용됨
  - 예를 들어 POST 요청을 보내기 전에 권한 요청을 하는 경우


- 200번 대역 상태 응답 : 요청에 대해 성공적으로 응답하는 경우
  - 201 Created : 서버에 새로운 리소스가 추가되었음을 알림
  - 202 Accepted : 요청은 성공하였으나 새로운 리소스를 생성하지 못한 경우
  - 204 No Content : 요청은 성공했지만 응답 body 가 비어있는 경우


- 300번 대역 상태 응답 : 클라이언트가 마지막으로 요청한 이후 변화되지 않은 리소스에 대해 다시 서버로 요청이 온 경우
  - 304 Not Modified : 클라이언트가 요청한 리소스가 변경되지 않은 경우, 이 코드를 응답받은 경우 캐시된 리소스를 사용해야함


- 400번 대역 상태 응답 : 클라이언트의 요청이 잘못되어서 에러가 발생한 경우
  - 400 Bad Request : 서버가 명확하게 클라이언트의 요청을 거절하는 경우
  - 403 Forbidden : 서버가 요청을 수락하였지만 사용자가 요청한 리소스에 접근할 권한이 없는 경우
  - 404 Not Found : 존재하지 않는 리소스를 요청하는 경우
  - 405 Method Not Allowed : 요청 메서드가 서버에서 지원하지 않는 경우
  - 426 Upgrade Required : 대상 리소스에게 요청 전에 먼저 TLS 로 연결을 업그레이드하라고 알리는 경우


- 500번 대역 상태 응답 : 서버 측에서 발생한 에러가 요청을 정상적으로 처리하지 못한 경우
  - 500 Internal Server Error : 서버에서 클라이언트의 요청을 처리하지 못하여 에러가 발생하는 경우
  - 502 Bad Gateway : 클라이언트와 업스트림 서비스 간 업스트림 서비스 접근이 불가능한 경우
  - 503 Service Unavailable : 웹 서버가 요청을 처리할 수 없는 경우
  - 504 Gateway Timeout : 업스트림 서비스가 요청을 수락하였지만 타임아웃이 발생한 경우



